<div class="container">
    <!-- Formulario por plantilla -->
    <!-- <form #myForm="ngForm" (ngSubmit)="enviar()">
        <div class="mb-3">
            <label for="exampleInputName" class="form-label">Nombre</label>
            <input type="name" class="form-control" id="exampleInputName" [(ngModel)]="user.name"
                [ngModelOptions]="{standalone: true}">
        </div>
        <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Email</label>
            <input type="email" class="form-control" id="exampleInputEmail1" [(ngModel)]="user.email" required
                [ngModelOptions]="{standalone: true}">
        </div>
        <div class="mb-3">
            <label for="exampleInputPassword1" class="form-label">Password</label>
            <input type="password" class="form-control" id="exampleInputPassword1" [(ngModel)]="user.password" required
                [ngModelOptions]="{standalone: true}">
        </div>
        <button type="submit" class="btn btn-primary">Enviar</button>
    </form> -->

    <!-- Formulario reactivo -->
    <form [formGroup]="formularioContacto" (ngSubmit)="enviar()">
        <div class="mb-3">
            <label for="name" class="form-label">Nombre</label>
            <input [ngClass]="{'is-invalid': hasErrors('name','required')}" type="text" class="form-control" id="name" formControlName="name">
                <div class="text-danger" *ngIf="hasErrors('name', 'required')">Nombre requerido. </div>
        </div>
        <div class="mb-3">
            <label for="lastName" class="form-label">Apellido</label>
            <input [ngClass]="{'is-invalid': hasErrors('lastName','required')}" type="text" class="form-control" id="lastName" formControlName="lastName">
                <div class="text-danger" *ngIf="hasErrors('lastName', 'required')">Apellido requerido </div>
        </div>
        <div class="mb-3">
            <label for="tipoID" class="form-label">Tipo de Identificación</label>
            <select class="form-select" id="tipoID" formControlName="tipoID">
                <option selected>...</option>
                <option value="Ine">Ine</option>
                <option value="Pasaporte">Pasaporte</option>
                <option value="Licencia de conducir">Licencia de conducir</option>
            </select>
        </div>
        <div class="mb-3">
            <dni-input [tipoID]="tipoID"></dni-input>
        </div>

        <div class="mb-3">
            <label for="phone" class="form-label">Telefono</label>
            <input [ngClass]="{'is-invalid': hasErrors('phone','required')}" type="number" class="form-control" id="phone" formControlName="phone">
                <div class="text-danger" *ngIf="hasErrors('phone', 'minlength')">El telefono debe contener 10 numeros </div>
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input [ngClass]="{'is-invalid': hasErrors('email','required') || hasErrors('email','email')}" type="email" class="form-control" id="email" formControlName="email">            
            <div class="text-danger" *ngIf="hasErrors('email','email')">Email invalido. </div>
            <div class="text-danger" *ngIf="hasErrors('email','required')">Email requerido. </div>            
        </div>
        <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input [ngClass]="{'is-invalid': hasErrors('password','required')}" type="password" class="form-control" id="password" formControlName="password">            
                <div class="text-danger" *ngIf="hasErrors('password', 'required')">Contraseña requerida.</div>
                <div class="text-danger" *ngIf="hasErrors('password', 'minlength')">La contraseña debe tener minimo 8 caracteres.</div>            
        </div>
        <button type="submit" class="btn btn-primary">Enviar</button>
    </form>

</div>

<form [formGroup]="tramiteForm" (ngSubmit)="submitForm()">
    <mat-form-field appearance="outline">
      <mat-label>Número de Serie</mat-label>
      <input matInput formControlName="numeroSerie" required>
    </mat-form-field>
  
    <h3>Datos del Contribuyente</h3>
    <mat-form-field appearance="outline">
      <mat-label>Nombre</mat-label>
      <input matInput formControlName="contribuyente.nombre" required>
    </mat-form-field>
  
    <mat-form-field appearance="outline">
      <mat-label>Apellido Paterno</mat-label>
      <input matInput formControlName="contribuyente.apellidoPaterno" required>
    </mat-form-field>
  
    <mat-form-field appearance="outline">
      <mat-label>Apellido Materno</mat-label>
      <input matInput formControlName="contribuyente.apellidoMaterno">
    </mat-form-field>
  
    <mat-form-field appearance="outline">
      <mat-label>Razón Social</mat-label>
      <input matInput formControlName="contribuyente.razonSocial">
    </mat-form-field>
  
    <mat-form-field appearance="outline">
      <mat-label>RFC</mat-label>
      <input matInput formControlName="contribuyente.rfc" required>
    </mat-form-field>
  
    <mat-form-field appearance="outline">
      <mat-label>Tipo de Persona</mat-label>
      <mat-select formControlName="contribuyente.tipoPersona" required>
        <mat-option value="fisica">Física</mat-option>
        <mat-option value="moral">Moral</mat-option>
      </mat-select>
    </mat-form-field>
  
    <h3>Datos del Representante</h3>
    <mat-form-field appearance="outline">
      <mat-label>Nombre</mat-label>
      <input matInput formControlName="representante.nombre" required>
    </mat-form-field>
  
    <mat-form-field appearance="outline">
      <mat-label>Apellido Paterno</mat-label>
      <input matInput formControlName="representante.apellidoPaterno" required>
    </mat-form-field>
  
    <mat-form-field appearance="outline">
      <mat-label>Apellido Materno</mat-label>
      <input matInput formControlName="representante.apellidoMaterno">
    </mat-form-field>
  
    <mat-form-field appearance="outline">
      <mat-label>Tipo de Persona</mat-label>
      <mat-select formControlName="representante.tipoPersona">
        <mat-option value="fisica">Física</mat-option>
        <mat-option value="moral">Moral</mat-option>
      </mat-select>
    </mat-form-field>
  
    <mat-form-field appearance="outline">
      <mat-label>Fecha de Elaboración</mat-label>
      <input matInput [matDatepicker]="picker" formControlName="fechaElaboracion" required>
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
  
    <mat-form-field appearance="outline">
      <mat-label>Tipo de Trámite</mat-label>
      <mat-select formControlName="tipoTramite" required>
        <mat-option *ngFor="let tipo of tiposTramite" [value]="tipo">{{ tipo }}</mat-option>
      </mat-select>
    </mat-form-field>
  
    <mat-form-field appearance="outline">
      <mat-label>Subir Archivo PDF</mat-label>
      <input type="file" (change)="onFileChange($event)" accept="application/pdf">
    </mat-form-field>
  
    <button mat-raised-button color="primary" type="submit">Enviar</button>
  </form>
  